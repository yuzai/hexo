---
title: es66-å†…éƒ¨çš„æ‰©å±•
date: 2016-11-24 21:40:57
tags:
- javascript
- es6
categories: æ€»ç»“
---
es6çš„å­¦ä¹ ç¬”è®°(å…­)ï¼šä¸€äº›å†…åœ¨çš„æå‡
<!--more-->

### æ•°å­—ï¼ˆNumberï¼‰çš„æ‰©å±•
#### æ•°å­—çš„äºŒè¿›åˆ¶ï¼Œå…«è¿›åˆ¶ï¼Œåå…­è¿›åˆ¶ç®€æ´è¡¨ç¤º

```js
var binary=0b101;
var oc = 0o101;
var hex = 0x101;
console.log([binary,oc,hex]);//5,65,257
```
å¯ä»¥ç”¨0bè¡¨ç¤ºäºŒè¿›åˆ¶ï¼Œ0oè¡¨ç¤ºå…«è¿›åˆ¶ï¼Œ0xè¡¨ç¤º16è¿›åˆ¶

#### Number.isNaN

è¿™ä¸ªå‡½æ•°å’Œå…¨å±€å‡½æ•°isNaNçš„ä¸åŒç‚¹åœ¨äºï¼Œå…¨å±€çš„isNaNåœ¨æ‰§è¡Œåˆ¤æ–­æ˜¯å¦æ˜¯NaNå‰ï¼Œè¿›è¡Œäº†Number(value)çš„æ“ä½œã€‚è¿™ä¸¤ä¸ªå‡½æ•°çš„è¿”å›å€¼åˆ†åˆ«è¡¨ç¤ºï¼švalueï¼ŒNumber(value)æ˜¯å¦æ˜¯NaN.

```js
Number.isNaN(123)
// <â€ false, integers are not NaN
Number.isNaN(Infinity)
// <â€ false, Infinity is not NaN
Number.isNaN(`a hundred`)
// <â€ false, `a hundred` is not NaN
Number.isNaN(NaN)
// <â€ true, NaN is NaN
Number.isNaN(`a hundred` / `two`)
// <â€ true, `a hundred` / `two` is NaN, NaN is NaN

isNaN(`a hundred`)
// <â€ true, because Number(`a hundred`) is NaN
```
è€Œå¯¹äºisNaN,ä¼šå…ˆæ‰§è¡ŒNumber(value),æ‰€ä»¥å­—ç¬¦ï¼Œä¹Ÿä¼šè¢«å˜æˆNaN,æ‰€ä»¥å­—ç¬¦çš„è¾“å‡ºç»“æœæ˜¯trueã€‚

#### Number.isFinite

ç±»ä¼¼äºisNaNå’ŒNumber.isNaN,åŒºåˆ«åœ¨äºåˆ¤æ–­ä¹‹å‰æ˜¯å¦è¿›è¡Œäº†Number(value)çš„æ“ä½œ,å¯¹æ¯”å¦‚ä¸‹ï¼š
```js
isFinite(NaN)
// <â€ false
isFinite(Infinity)
// <â€ false
isFinite(â€Infinity)
// <â€ false
isFinite(null)
// <â€ true, because Number(null) is 0
isFinite(â€13)
// <â€ true, because Number(â€13) is â€13
isFinite(`10`)
// <â€ true, because Number(`10`) is 10


Number.isFinite(NaN)
// <â€ false
Number.isFinite(Infinity)
// <â€ false
Number.isFinite(â€Infinity)
// <â€ false
Number.isFinite(null)
// <â€ false, because null is not a number
Number.isFinite(â€13)
// <â€ true
Number.isFinite(`10`)
// <â€ false, because `10` is not a number
```
äº‹å®ä¸Šï¼ŒNumber.isFinite = value => typeof value === `number` && isFinite(value)

#### Number.parseInt
è¿™ä¸ªå‡½æ•°å’ŒparseIntå®Œå…¨ç›¸åŒã€‚ä¸è¿‡parseIntåœ¨es6ä¸­ä¹Ÿå¾—åˆ°äº†æ‰©å±•ã€‚ä¸éœ€è¦æä¾›åŸºæ•°ï¼Œä½¿ç”¨0xè¿™æ ·çš„ç¬¦å·ä¹Ÿæ˜¯æ”¯æŒçš„ã€‚ä½†æ˜¯ä¸æ”¯æŒ0b,0oå¦‚æœæä¾›äº†åŸºæ•°ï¼Œä¼šåœ¨ç¬¬ä¸€ä¸ªä¸è®¤è¯†çš„å­—ç¬¦æ”¾å¼ƒï¼Œä¹‹å‰çš„è½¬æ¢è¿˜æ˜¯æ­£ç¡®çš„

```js
console.log(Number.parseInt === parseInt)
// <â€ true

parseInt(`0xf00`)
// <â€ 3840
parseInt(`0xf00`, 16)
// <â€ 3840

parseInt(`0xf00`, 10)
// <â€ 0
parseInt(`5xf00`, 10)
// <â€ 5, illustrating there's no special treatment here


parseInt(`0b011`)
// <â€ 0
parseInt(`0b011`, 2)
// <â€ 0
parseInt(`0o100`)
// <â€ 0
parseInt(`0o100`, 8)
// <â€ 0
parseInt(`0b011`.slice(2), 2)
// <â€ 3
parseInt(`0o110`.slice(2), 8)
// <â€ 72

Number(`0b011`)
// <â€ 3
Number(`0o110`)  //äº‹å®ä¸Šï¼Œç›´æ¥ä½¿ç”¨0b101ï¼Œå°±æ˜¯åè¿›åˆ¶çš„5ï¼Œä¸éœ€è¦æ¨¡æ¿å­—é¢é‡``
// <â€ 72
```

#### Number.parseFloat
äº‹å®ä¸Šï¼Œå’ŒparseIntä¸€æ ·ï¼Œè¿™ä¸ªå‡½æ•°ä¹Ÿæ˜¯ç­‰äºå…¨å±€çš„parseFloat.è¿™æ ·çš„å¥½å¤„å…¶å®æ˜¯ä¸ºäº†æŠŠå…¨å±€çš„é€æ¸è½¬ç§»åˆ°å±€éƒ¨çš„ç›¸å…³æ•°æ®ç±»å‹ä¸Šï¼Œæ¥é¿å…å…¨å±€å˜é‡çš„æ±¡æŸ“

```js
console.log(Number.parseFloat === parseFloat)
// <â€ true
```

#### Number.isInteger
è¿™ä¸ªæ–¹æ³•æ˜¯å…¨å±€æ²¡æœ‰çš„ï¼Œå°±æ˜¯åˆ¤æ–­ä¸€ä¸ªæ•°å­—æ˜¯å¦æ˜¯æ•´æ•°ã€‚å†…éƒ¨æ²¡æœ‰ç»è¿‡Number(value)æ“ä½œã€‚

```js
console.log(Number.isInteger(Infinity)); // <â€ false
console.log(Number.isInteger(â€Infinity)); // <â€ false
console.log(Number.isInteger(NaN)); // <â€ false
console.log(Number.isInteger(null)); // <â€ false
console.log(Number.isInteger(0)); // <â€ true
console.log(Number.isInteger(â€10)); // <â€ true
console.log(Number.isInteger(10.3)); // <â€ false
```

å¯ä»¥è®¤ä¸ºä»–å†…éƒ¨çš„æ“ä½œåŸç†å¦‚ä¸‹ï¼š

```js
Number.isInteger = value => Number.isFinite(value) && value%1 === 0
```

#### Number.EPSILON
ä¸­æ–‡è¯»è¿‡æ¥å°±æ˜¯ä¸€ä¸è¥¿é¾™ï¼Œæ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œæ•°å€¼ç‰¹åˆ«å°ï¼Œå¯ä»¥ç”¨å®ƒæ¥åˆ¤æ–­æµ®ç‚¹æ•°ä¹‹é—´çš„å·®è·æ˜¯å¦è¶³å¤Ÿå°ï¼Œå°åˆ°å¯ä»¥å¿½ç•¥çš„åœ°æ­¥ã€‚
```js
Number.EPSILON
// <â€ 2.220446049250313eâ€16
Number.EPSILON.toFixed(20)
// <â€ `0.00000000000000022204`

0.1 + 0.2
// <â€ 0.30000000000000004
0.1 + 0.2 === 0.3
// <â€ false

console.log(0.1 + 0.2 - 0.3)
// <â€ 5.551115123125783eâ€17
console.log(5.551115123125783e-17.toFixed(20))
// <â€ `0.00000000000000005551`

console.log(5.551115123125783e-17 < Number.EPSILON)
// <â€ true
```

æ ¹æ®ä¸Šè¿°ä»£ç ï¼Œå¯ä»¥å†™å‡ºä¸€ä¸ªæ¥åˆ¤æ–­ä¸¤ä¸ªæµ®ç‚¹æ•°ä¹‹é—´çš„å·®å€¼æ˜¯å¦å¯ä»¥æ¥å—ã€‚

```js
function withinMarginOfError (left, right) {
    return Math.abs(left - right) < Number.EPSILON
}
withinMarginOfError((0.1+0.2),0.3);//true
```
**å¤šè¯´ä¸€å¥ï¼Œå¹¶ä¸æ˜¯æ¯ä¸€ä¸ªæµ®ç‚¹æ•°éƒ½ä¸èƒ½è¢«ç²¾ç¡®è¡¨ç¤ºï¼Œ0.1+0.2ä¸èƒ½è¡¨ç¤ºä¸º0.3ï¼Œä½†æ˜¯0.3+0.2=0.5æ˜¯å¯ä»¥ç²¾ç¡®è¡¨ç¤ºï¼Œå…·ä½“è§„åˆ™æˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ¸…æ¥š**

#### Number.MAX_SAFE_INTEGERï¼ŒNumber.MIN_SAFE_INTEGER ï¼ŒNumber.isSafeInteger
å¹¶ä¸æ˜¯æ¯ä¸€ä¸ªæ•´æ•°éƒ½å¯ä»¥è¢«ç²¾ç¡®è¡¨ç¤ºã€‚
Number.MAX_SAFE_INTEGERæ˜¯jsä¸­å¯ä»¥è¢«å®‰å…¨çš„ç²¾ç¡®è¡¨ç¤ºçš„æ•°å­—ã€‚æœ€å°çš„å°±æ˜¯å®ƒçš„ç›¸åæ•°ï¼Œä¹Ÿå¯ä»¥ç”¨Number.MIN_SAFE_INTEGERæ¥è¡¨ç¤ºã€‚2^53-1æ˜¯è®¡ç®—æœºæœ‰64ä½ï¼Œæœ‰11ä½è¢«ç”¨æ¥è¡¨ç¤ºæŒ‡æ•°ï¼Œ1ä½ç”¨æ¥è¡¨ç¤ºç¬¦å·ä½ã€‚å‰©ä½™çš„52ä½æ¥è¡¨ç¤ºæ•´æ•°ï¼Œå¦‚æœè¿™52ä½éƒ½ä¸º1ï¼Œå°±æ˜¯æœ€å¤§ä¸å¤±çœŸæ•´æ•°ï¼Œ2^53-1ã€‚å¦‚æœæ•°æ®è¶…è¿‡äº†è¿™ä¸ªèŒƒå›´ï¼Œå°±ä¼šä»¥ç²¾åº¦ä¸ºä»£ä»·ï¼Œç”¨11ä½çš„æŒ‡æ•°æ¥è¿›è¡Œè¡¨ç¤ºï¼Œå…¶ä¸­11ä½æŒ‡æ•°çš„ç¬¬ä¸€ä½ç”¨æ¥è¡¨ç¤ºæŒ‡æ•°çš„æ­£è´Ÿ
![æµ®ç‚¹æ•°](blog.xiaoboma.com/æµ®ç‚¹æ•°.jpg)

```js
Number.MAX_SAFE_INTEGER === Math.pow(2, 53) â€ 1
// <â€ true
Number.MAX_SAFE_INTEGER === 9007199254740991
// <â€ true

Number.MIN_SAFE_INTEGER === â€Number.MAX_SAFE_INTEGER
// <â€ true
Number.MIN_SAFE_INTEGER === â€9007199254740991
// <â€ true

//ä¸‹é¢çš„ä»£ç æ¥éªŒè¯è¶…è¿‡è¿™ä¸ªèŒƒå›´å°±ä¼šä¸ç²¾ç¡®
1 === 2
// <â€ false
Number.MAX_SAFE_INTEGER + 1 === Number.MAX_SAFE_INTEGER + 2
// <â€ true
Number.MIN_SAFE_INTEGER - 1 === Number.MIN_SAFE_INTEGER - 2//åŒæ—¶ç›¸åŠ ï¼Œä¾æ—§ç›¸ç­‰ï¼Œå½“ç„¶ï¼Œè¿™ä¸ªåŠ æ•°æ˜¯æœ‰èŒƒå›´çš„
// <â€ true
```
Number.isSafeIntegerå°±æ˜¯ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯å®‰å…¨çš„ï¼Œä¹Ÿå°±æ˜¯æ˜¯å¦åœ¨[Number.MIN_SAFE_INTEGERï¼ŒNumber.MAX_SAFE_INTEGER]ä¹‹é—´ï¼Œè¿™ä¸ªå‡½æ•°ä¹Ÿæ²¡æœ‰è¿›è¡ŒNumber(value)è½¬æ¢ï¼Œæ‰€ä»¥ä¼ å…¥å­—ç¬¦ä¸²ç­‰å¿…ç„¶æŠ¥é”™ï¼Œå°æ•°ä¹Ÿå¿…ç„¶ä¼šæŠ¥é”™ã€‚

```js
Number.isSafeInteger(`one`); // <â€ false
Number.isSafeInteger(`0`); // <â€ false
Number.isSafeInteger(null); // <â€ false
Number.isSafeInteger(NaN); // <â€ false
Number.isSafeInteger(Infinity); // <â€ false
Number.isSafeInteger(â€Infinity); // <â€ false
Number.isSafeInteger(Number.MIN_SAFE_INTEGER â€ 1); // <â€ false
Number.isSafeInteger(Number.MIN_SAFE_INTEGER); // <â€ true
Number.isSafeInteger(1); // <â€ true
Number.isSafeInteger(1.2); // <â€ false
Number.isSafeInteger(Number.MAX_SAFE_INTEGER); // <â€ true
Number.isSafeInteger(Number.MAX_SAFE_INTEGER + 1); // <â€ false
```

äº‹å®ä¸Šï¼Œå¦‚æœä¸¤ä¸ªæ•°éƒ½æ˜¯å®‰å…¨æ•°ï¼Œä»–ä»¬çš„è®¡ç®—ç»“æœä¸ä¸€å®šæ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºç®€å•çš„åŠ æ³•ï¼Œä¸¤ä¸ªå®‰å…¨çš„æ•´æ•°æƒ³åŠ ï¼Œè¶…è¿‡äº†å®‰å…¨èŒƒå›´ï¼Œè®¡ç®—ç»“æœå°±ä¼šæœ‰åå·®ã€‚
ä¸€ä¸ªæ˜¯å®‰å…¨çš„ï¼Œä¸€ä¸ªæ˜¯ä¸å®‰å…¨çš„ï¼Œä»–ä»¬çš„ç»“æœä¹Ÿæœ‰å¯èƒ½å‡ºç°åå·®ã€‚
ä¸¤ä¸ªéƒ½æ˜¯ä¸å®‰å…¨çš„ï¼Œè™½ç„¶ä»–ä»¬çš„ç»“æœæ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯ç»“æœä¹Ÿæœ‰å¯èƒ½å‡ºç°åå·®ã€‚

```js
Number.isSafeInteger(9007199254740000)
// <â€ true
Number.isSafeInteger(993)
// <â€ true
Number.isSafeInteger(9007199254740000 + 993)
// <â€ false
9007199254740000 + 993
// <â€ 9007199254740992, should be 9007199254740993

//ä½†æ˜¯å¹¶ä¸æ˜¯è¯´æ‰€æœ‰çš„éƒ½æ˜¯é”™è¯¯çš„ï¼Œæœ‰å¯èƒ½æ˜¯æ­£ç¡®çš„ï¼Œä¼¼ä¹æ˜¯ä»¥2ä½å•ä½çš„ã€‚ä½†æ˜¯ç»“æœä¸æ˜¯å¾ˆé è°±äº†
9007199254740000 + 994
// <â€ 9007199254740994

Number.isSafeInteger(9007199254740993)
// <â€ false
Number.isSafeInteger(990)
// <â€ true
Number.isSafeInteger(9007199254740993 â€ 990)
// <â€ true
9007199254740993 â€ 990
// <â€ 9007199254740002, should be 9007199254740003

Number.isSafeInteger(9007199254740995)
// <â€ false
Number.isSafeInteger(9007199254740993)
// <â€ false
Number.isSafeInteger(9007199254740995 â€ 9007199254740993)
// <â€ true
9007199254740995 â€ 9007199254740993
// <â€ 4, should be 2
```
ç»¼ä¸Šï¼Œå¯ä»¥è®¤ä¸ºï¼Œä¸€æ¬¡æ“ä½œï¼Œä¸è®ºæ˜¯æ“ä½œæ•°ï¼Œè¿˜æ˜¯ç»“æœä¸å®‰å…¨ï¼Œé‚£ä¹ˆè¿™ä¸ªç»“æœå¾ˆæœ‰å¯èƒ½æ˜¯ä¸å‡†ç¡®çš„ã€‚å¯ä»¥é€šè¿‡ä¸‹é¢è¿™ä¸ªå‡½æ•°æ¥åˆ¤æ–­è®¡ç®—è®°è¿‡æ˜¯å¦å‡†ç¡®

```js
function safeOp (result, ...operands) {
  const values = [result, ...operands]
  if (!values.every(Number.isSafeInteger)) {
  throw new RangeError('Operation cannot be trusted!')
  }
  return result
}
safeOp(9007199254740000 + 993, 9007199254740000, 993)
// <â€ RangeError: Operation cannot be trusted!
safeOp(9007199254740993 + 990, 9007199254740993, 990)
// <â€ RangeError: Operation cannot be trusted!
safeOp(9007199254740993 â€ 990, 9007199254740993, 990)
// <â€ RangeError: Operation cannot be trusted!
safeOp(9007199254740993 â€ 9007199254740995, 9007199254740993, 9007199254740995)
// <â€ RangeError: Operation cannot be trusted!
safeOp(1 + 2, 1, 2)
// <â€ 3
```

### Mathå‡½æ•°çš„æ‰©å±•
#### Math.sign()
è¿™ä¸ªå‡½æ•°æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯è¿”å›-1ï¼Œ0,1ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯è¿™ä¸ªå‡½æ•°çš„æ•°å€¼ä¼šå…ˆç»è¿‡Number(value)æ“ä½œã€‚
```js
Math.sign(1); // <â€ 1
Math.sign(0); // <â€ 0
Math.sign(â€0); // <â€ â€0
Math.sign(â€30); // <â€ â€1
Math.sign(NaN); // <â€ NaN
Math.sign(`one`); // <â€ NaN, because Number(`one`) is NaN
Math.sign(`0`); // <â€ 0, because Number(`0`) is 0
Math.sign(`7`); // <â€ 1, because Number(`7`) is 7
```
#### Math.trunc()
è¿™ä¸ªå‡½æ•°ç±»ä¼¼Math.floor()å‘ä¸‹å–æ•´ï¼ŒMath.ceil()å‘ä¸Šå–æ•´ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯ä¸è®ºæ­£è´Ÿï¼Œç›´æ¥å»æ‰å°æ•°ï¼ŒåŒæ—¶ï¼Œå‡½æ•°çš„æ•°å€¼ä¼šç»è¿‡Number(value)å¤„ç†ã€‚
```js
Math.trunc(12.34567); // <â€ 12
Math.trunc(â€13.58); // <â€ â€13
Math.trunc(â€0.1234); // <â€ â€0
Math.trunc(NaN); // <â€ NaN
Math.trunc(`one`); // <â€ NaN, because Number(`one`) is NaN
Math.trunc(`123.456`); // <â€ 123, because Number(`123.456`) is 123.456
```
#### Math.cbrt()
Match.sqrt()æ˜¯äºŒæ¬¡å¼€æ ¹çš„ç¼©å†™ï¼Œcbrtæ˜¯ä¸‰æ¬¡å¼€æ ¹çš„ç¼©å†™ã€‚åŒæ ·ï¼Œè¾“å…¥ç»è¿‡Numberï¼ˆvalueï¼‰å¤„ç†ã€‚
```js
Math.cbrt(â€1); // <â€ â€1
Math.cbrt(3); // <â€ 1.4422495703074083
Math.cbrt(8); // <â€ 2
Math.cbrt(27); // <â€ 3
Math.cbrt(`8`); // <â€ 2, because Number(`8`) is 8
Math.cbrt(`one`); // <â€ NaN, because Number(`one`) is NaN
```
#### Math.expm1(),Math.log1p()ï¼ŒMath.log2(),Math.log10()

Math.exmp1()åšäº†å’ŒMath.exp(value) â€ 1ä¸€æ ·çš„æ“ä½œï¼Œä½†æ˜¯ç²¾åº¦æ¯”åè€…é«˜ã€‚
Math.log1p()åšäº†Math.log(value + 1)ä¸€æ ·çš„æ“ä½œï¼Œä½†æ˜¯ç²¾åº¦æ¯”åè€…é«˜
Math.log10()åšäº†å’ŒMath.log(x) / Math.LN10ä¸€æ ·çš„æ“ä½œï¼Œä½†æ˜¯ç²¾åº¦æ›´é«˜
Math.log2()å°±æ˜¯Math.log(x) / Math.LN2ï¼Œä½†æ˜¯ç²¾åº¦æ¯”åè€…é«˜

#### ä¸‰è§’å‡½æ•°
1. Math.sinh(value) returns the hyperbolic sine of value
2. Math.cosh(value) returns the hyperbolic cosine of value
3. Math.tanh(value) returns the hyperbolic tangent of value
4. Math.asinh(value) returns the hyperbolic arcÂ­sine of value
5. Math.acosh(value) returns the hyperbolic arcÂ­cosine of value
6. Math.atanh(value) returns the hyperbolic arcÂ­tangent of value

#### Math.hypot()
Math.hypot(1,2,3,4)çš„å€¼åº”è¯¥æ˜¯sqrtï¼ˆ1*1+2*2+3*3+4*4ï¼‰ï¼Œå½“æ—¶ç²¾åº¦æ¯”ç›´æ¥ä½¿ç”¨sqrté«˜ã€‚è¾“å…¥å‚æ•°ä¸èƒ½æ˜¯æ•°ç»„ï¼Œå…¶å®åœ¨æ•°ç»„å‰åŠ ä¸Š...å°±å¯ä»¥ç”¨äº†ã€‚

### å­—ç¬¦ä¸²å’Œunicodeç 
äº‹å®ä¸Šï¼Œå¯¹å­—ç¬¦ä¸²çš„ä¸€ä¸ªæå‡å°±è¡¨ç°åœ¨æ¨¡æ¿å­—é¢é‡ä¸Šï¼Œå¯ä»¥åœ¨/`/`ä¸­åµŒå…¥å˜é‡ï¼Œè¡¨è¾¾å¼ã€‚å…¶ä»–çš„æå‡ä¸»è¦è¡¨ç°åœ¨å¯¹å­—ç¬¦ä¸²çš„æ§åˆ¶å’Œunicodeç ä¸Šã€‚
#### String#startsWith(),#endsWith(),#includes()

ç›¸å¯¹æ¥è®²éƒ½æ¯”è¾ƒç®€å•ï¼Œéƒ½å¯ä»¥ä½¿ç”¨indexOfæ¥æ›¿æ¢ï¼Œä½†æ˜¯ç®€åŒ–äº†å®ƒçš„å†™æ³•ï¼Œç¤ºä¾‹ç”¨æ³•å¦‚ä¸‹ï¼š
```js
`hello ell`.startsWith(`ell`, 6) //ç¬¬äºŒä¸ªå‚æ•°å¯çœï¼Œé»˜è®¤ä¸º0
// <â€ true

`hello gary`.endsWith(`gary`, 10)//ç¬¬äºŒä¸ªå‚æ•°å¯çœï¼Œé»˜è®¤æ˜¯å­—ç¬¦ä¸²çš„Lengthï¼Œå®é™…æ£€æµ‹çš„æ•°ç»„åæ ‡åº”è¯¥æ˜¯å‚æ•°-1
// <â€ true
`hello gary`.endsWith(`gary`, 9)
// <â€ false, it ends with `gar` in this case

`hello gary`.includes(`ga`, 4)
// <â€ true
`hello gary`.includes(`ga`, 7)
// <â€ false
```

#### String#repeat()
repeatæ˜¯å¯ä»¥è®©ç›®å‰çš„å­—ç¬¦ä¸²é‡å¤å¾ˆå¤šæ¬¡ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²
```js
`ha`.repeat(1)
// <â€ `ha`
`ha`.repeat(2)
// <â€ `haha`
`ha`.repeat(5)
// <â€ `hahahahaha`
`ha`.repeat(0)
// <â€ ``
```
#### Unicode
Unicodeç›®å‰ä¸€å…±æœ‰17ä¸ªè¾…åŠ©å¹³é¢ï¼Œæ¯ä¸ªå¹³é¢åŒ…å«65536ä¸ªå­—ç¬¦ã€‚
jsé‡‡ç”¨UTF-16,ç”¨ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºåŸºæœ¬å¹³é¢ï¼Œç”¨4ä¸ªå­—èŠ‚è¡¨ç¤ºè¾…åŠ©å¹³é¢ã€‚ç¨‹åºå¦‚ä½•åˆ¤æ–­unicodeæ˜¯åŸºæœ¬å¹³é¢è¿˜æ˜¯åº”è¯¥æŠŠä¹‹åä¸¤ä¸ªç»„åˆæˆä¸€ä¸ªè¾…åŠ©å¹³é¢ï¼Ÿ
å…·ä½“æ¥è¯´ï¼Œè¾…åŠ©å¹³é¢çš„å­—ç¬¦ä½å…±æœ‰2^20(2^4*2^16)ä¸ªï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹åº”è¿™äº›å­—ç¬¦è‡³å°‘éœ€è¦20ä¸ªäºŒè¿›åˆ¶ä½ã€‚UTF-16å°†è¿™20ä½æ‹†æˆä¸¤åŠï¼Œå‰10ä½æ˜ å°„åœ¨U+D800åˆ°U+DBFFï¼ˆç©ºé—´å¤§å°2^10ï¼‰ï¼Œç§°ä¸ºé«˜ä½ï¼ˆHï¼‰ï¼Œå10ä½æ˜ å°„åœ¨U+DC00åˆ°U+DFFFï¼ˆç©ºé—´å¤§å°2^10ï¼‰ï¼Œç§°ä¸ºä½ä½ï¼ˆLï¼‰ã€‚è¿™æ„å‘³ç€ï¼Œä¸€ä¸ªè¾…åŠ©å¹³é¢çš„å­—ç¬¦ï¼Œè¢«æ‹†æˆä¸¤ä¸ªåŸºæœ¬å¹³é¢çš„å­—ç¬¦è¡¨ç¤ºã€‚
æ¯”å¦‚ï¼šu+D800U+DC00å°±è¡¨ç¤ºè¾…åŠ©å¹³é¢1çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚æ€»å…±å¯ä»¥è¡¨ç¤º2^10*2^10ä¸ªå­—ç¬¦ã€‚åˆšå¥½æ»¡è¶³ç©ºé—´éœ€æ±‚ã€‚è¿™ä¸€åˆ‡çš„æ¡ä»¶éƒ½æ¥è‡ªäºåŸºæœ¬å¹³é¢çš„d800-dbffæ˜¯ç©ºçš„ï¼Œè€Œè¿™åˆšå¥½å°±æ˜¯ç©ºçš„ã€‚
æ‰€ä»¥è½¬ç è§„åˆ™å¦‚ä¸‹ï¼š
å¯¹äºåŸºæœ¬å¹³é¢çš„å­—ç¬¦ï¼Œç›´æ¥æ˜¾ç¤ºåŸºæœ¬å¹³é¢å¯¹åº”çš„å­—ç¬¦ï¼Œå¯¹äºéåŸºæœ¬å¹³é¢çš„å­—ç¬¦ï¼Œç”¨ç¬¬ä¸€ä¸ªå­—ç¬¦å‡å»D800å°±å¾—åˆ°é«˜10ä½ï¼Œç”¨åä¸€ä¸ªå­—ç¬¦-DC00å°±æ˜¯ä½åä½ï¼Œç»„åˆèµ·æ¥å°±æ˜¯å¯¹åº”çš„unicode32ä½ç ã€‚
å½“ç„¶ï¼Œæ­¤å¤„å› ä¸ºæ˜¯åªéœ€è¦æœ‰16ä¸ªå‰¯ä¸»å¹³é¢ï¼Œæ‰€ä»¥é«˜4ä½åº”è¯¥æ˜¯0b0000-0b1111.
åœ¨es6ä¸­ï¼Œå¯ä»¥é‡‡ç”¨'\ud83d\udc0e'è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨'\u{1f40e}'æ¥è¡¨ç¤ºã€‚
```js
console.log(`\ud83d\udc0e`)
//ğŸ
console.log(`\u{1f40e}`)
//ğŸ
console.log('\ud83d\udc0e\ud83d\udc71\u2764')
//ğŸğŸ‘±â¤
```
å› ä¸ºes6ç»™unicodeæ·»åŠ äº†iteratorï¼Œæ‰€ä»¥ç›´æ¥é‡‡ç”¨for of å°±å¯ä»¥éå†æ‰€æœ‰ç»è¿‡è½¬ç è®¡ç®—çš„unicode
```js
let s='\ud83d\udc0e\ud83d\udc71\u2764'
for(let i of s)
  console.log(i)
//ğŸ
//ğŸ‘±
//â¤
console.log(s.length)//5
console.log([...s].length)//3 å†…ç½®è¿­ä»£å™¨çš„åŠŸèƒ½
```
#### codePointAt
es6æä¾›äº†ä¸€ä¸ªå¯ä»¥æŠŠunicodeè½¬æ¢ä¸º10è¿›åˆ¶çš„å‡½æ•°ï¼Œ**codePointAt**;
```js
const text = `\ud83d\udc0e\ud83d\udc71\u2764`
text.codePointAt(0)
// <â€ 128014
text.codePointAt(2)
// <â€ 128113
text.codePointAt(4)
// <â€ 10084
//å†…ç½®è¿­ä»£å™¨å¤§å¤§æ–¹ä¾¿äº†unicodeçš„ä¾¿åˆ©
const text = `\ud83d\udc0e\ud83d\udc71\u2764`
for (let codePoint of text) {
console.log(codePoint.codePointAt(0))
// <â€ 128014
// <â€ 128113
// <â€ 10084
}
[...text].map(cp => cp.codePointAt(0))
// <â€ [128014, 128113, 10084]

//ç”¨toStringå¯ä»¥æ–¹ä¾¿çš„çœ‹åˆ°ç»è¿‡è½¬æ¢åçš„Unicode16è¿›åˆ¶ç 
[...text].map(cp => cp.codePointAt(0).toString(16))
// <â€ [`1f40e`, `1f471`, `2764`]
```
#### fromCodePoint()
åŒæ—¶è¿˜æä¾›äº† **String.fromCodePoint()** å‡½æ•°æ¥å°†æ•°å­—è½¬æ¢æˆå¯¹åº”çš„unicodeç 
```js
String.fromCodePoint(128014, 128113, 10084)//ğŸğŸ‘±â¤
String.fromCodePoint(0x1f40e)//ğŸ
```
#### reverse
å½“éœ€è¦æŠŠunicodeå­—ç¬¦reverseçš„æ—¶å€™ï¼Œéœ€è¦å…ˆä½¿ç”¨...æ“ä½œç¬¦å†ç¿»è½¬
```js
const text = `\ud83d\udc0e\ud83d\udc71\u2764`
[...text].reverse().join(``)
```

#### String#normalize
è¿™ä¸ªå‡½æ•°ä½œç”¨ä¸å¤§ï¼Œä¸»è¦æ„ä¹‰åœ¨äºæ¯”è¾ƒä¸€äº›äººçœ¼çœ‹èµ·æ¥ç›¸ç­‰ï¼Œä½†æ˜¯å®é™…ä¸Šå´æ˜¯ä¸åŒå­—ç¬¦ç»„åˆè€Œæˆï¼Œçœ‹èµ·æ¥å¾ˆåƒè€Œå·²ã€‚å¯¹å­—ç¬¦ä¸²ç”¨ä¸Šè¿™ä¸ªå‡½æ•°ï¼Œå°±ä¼šæŠŠç»„åˆçš„è½¬æ¢æˆæœªç»„åˆçš„æ ·å­ï¼Œè¿™æ ·ï¼Œäººçœ¼çœ‹åˆ°çš„å­—ç¬¦å’Œå®é™…çš„å­—ç¬¦å°±æ˜¯ä¸€è‡´çš„ã€‚

### Arrayçš„æ‰©å±•
ES5å·²ç»ç»™Arrayå¸¦æ¥äº†å¾ˆå¤šçš„æ–°ç‰¹æ€§ï¼Œæ¯”å¦‚ï¼šArray#filter , Array#map , Array#reduce , Array#reduceRight , Array#forEach ,
Array#some , and Array#everyï¼Œè€Œes6ä¹Ÿå¸¦æ¥äº†ä¸€äº›æ–°ç‰¹æ€§ã€‚
#### Array.from
å¯ä»¥ä»ç±»æ•°ç»„æˆ–è€…iteratorä¸­æ„å»ºä¸€ä¸ªæ•°ç»„ï¼Œæœ‰ä¸‰ä¸ªå‚æ•°ï¼Œè™½ç„¶åªæœ‰ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»ç»™ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯mapå‡½æ•°ï¼Œå¯ä»¥å¯¹æ¯ä¸€ä¸ªæ–°æ•°ç»„è¿›è¡Œæ“ä½œç„¶åè¿”å›ã€‚

```js
//code1 ä»ç±»æ•°ç»„å¯¹è±¡ä¸­å®šä¹‰æ•°ç»„å¹¶map
const things = {
0: {
type: `fruit`,
name: `Apple`,
amount: 3
},
1: {
type: `vegetable`,
name: `Onion`,
amount: 1
},
length: 2
}

console.log(Array.from(things))
//[object Object],[object Object]
console.log(Array.from(things, thing => thing.type))
// <â€ [`fruit`, `vegetable`, ...]

//ä»å¯è¿­ä»£çš„ç”Ÿæˆå™¨ä¸­ç”Ÿæˆæ•°ç»„å¹¶map
function* gen()
{
  yield 1;
  yield 2;
  yield* '1222334';
}
console.log(Array.from(gen()));//1,2,1,2,2,2,3,3,4
console.log(Array.from(gen(),value=>value*2));//2,4,2,4,4,4,6,6,8
```
#### Array.of
äº‹å®ä¸Šï¼ŒArray.of = (...params) => paramsï¼Œå¯ä»¥è¿™ä¹ˆç†è§£ã€‚
```js
console.log(Array.of()); // <â€ []
console.log(Array.of(undefined)); // <â€ [undefined]
console.log(Array.of(1)); // <â€ [1]
console.log(Array.of(3)); // <â€ [3]
console.log(Array.of(`3`)); // <â€ [`3`]
console.log(Array.of(1, 2)); // <â€ [1, 2]
console.log(Array.of(-1, -2)); // <â€ [â€1, â€2]
console.log(Array.of(-1)); // <â€ [â€1]
```
#### Array#copyWithin
Array.prototype.copyWithin(target, start = 0, end = this.length),å†…éƒ¨å¤åˆ¶å‡½æ•°ï¼Œå°†ä¸€ä¸ªæ•°ç»„çš„[start,end)çš„å…ƒç´ å¤åˆ¶åˆ°æ•°ç»„ä¸­çš„targetä½ç½®ã€‚å¦‚ä¸‹ï¼š
```js
const items = [1, 2, 3, ,,,,,,,]
// <â€ [1, 2, 3, undefined x 7]
const items = [1, 2, 3, ,,,,,,,]
items.copyWithin(6, 1, 3)
// <â€ [1, 2, 3, undefined Ã— 3, 2, 3, undefined Ã— 2]
```
å½“ç„¶ï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥å‰çš„æ–¹æ³•æ¥å®ç°
```js
const items = [1, 2, 3, ,,,,,,,]
const copy = items.slice(1, 3)
// <â€ [2, 3]
items.splice(6, 3 â€ 1, ...copy)
console.log(items)
// <â€ [1, 2, 3, undefined Ã— 3, 2, 3, undefined Ã— 2]
```
åªæ˜¯æ²¡æœ‰æ–°çš„æ–¹æ³•é‚£ä¹ˆä¾¿åˆ©ã€‚

#### Array#fill
æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¿…é¡»çš„ï¼Œç¬¬äºŒä¸ªè¡¨ç¤ºèµ·å§‹ä½ç½®ï¼Œç¬¬ä¸‰ä¸ªè¡¨ç¤ºç»“æŸä½ç½®ï¼Œ[start,end)
```js
[`a`, `b`, `c`].fill(`x`); // <â€ [`x`, `x`, `x`]
[`a`, `b`, `c`,,,].fill(`x`, 2)
// <â€ [`a`, `b`, `x`, `x`, `x`]
new Array(5).fill(`x`, `x`, 3)
// <â€ [`x`, `x`, `x`, undefined x 2]
```

#### Array#find Array#findIndex
å¯»æ‰¾æ•°ç»„ä¸­æ»¡è¶³è¦æ±‚çš„å…ƒç´ ï¼Œä¸€ä¸ªè¿”å›è¯¥å…ƒç´ ï¼Œä¸€ä¸ªè¿”å›Index
```js
[`a`, `b`, `c`, `d`, `e`].find(item => item === `c`)
// <â€ `c`
[`a`, `b`, `c`, `d`, `e`].find((item, i) => i === 0)
// <â€ `a`
[`a`, `b`, `c`, `d`, `e`].find(item => item === `z`)
// <â€ undefined


[`a`, `b`, `c`, `d`, `e`].findIndex(item => item === `c`)
// <â€ 2
[`a`, `b`, `c`, `d`, `e`].findIndex((item, i) => i === 0)
// <â€ 0
[`a`, `b`, `c`, `d`, `e`].findIndex(item => item === `z`)
// <â€ â€1
```

#### Array#keys
Array#keysè¿”å›å€¼æ˜¯ä¸€ä¸ªéå†å™¨ï¼Œå€¼æ˜¯index
```js
for (let key of [`a`, `b`, `c`, `d`].keys()) {
console.log(key)
}
//0 1 2 3 4
```
#### Array#values
valuesçš„è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªéå†å™¨ï¼Œå€¼å°±æ˜¯æ•°ç»„çš„å€¼
```js
for (let key of [`a`, `b`, `c`, `d`].values()) {
console.log(key)
}
//a b c d
```
#### Array#entries()
è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªéå†å™¨ï¼Œå€¼æ˜¯[index,æ•°ç»„å€¼]
```js
[...[`a`, `b`, `c`, `d`].entries()]
// <â€ [[0, `a`], [1, `b`], [2, `c`], [3, `d`]]
```
#### Array.prototype[Symbol.iterator]
å…¶å®æ˜¯å’ŒArray.valueså‡½æ•°æ˜¯ä¸€æ ·çš„ï¼Œè¿”å›å€¼éƒ½æ˜¯ä¸€ä¸ªè¿­ä»£å™¨æˆ–è€…éå†å™¨ï¼Œè¾“å‡ºçš„æ•°å€¼å‡æ˜¯æ•°ç»„çš„å€¼
```js
const list = [`a`, `b`, `c`, `d`]
list[Symbol.iterator] === list.values
// <â€ true
[...list[Symbol.iterator]()]
// <â€ [`a`, `b`, `c`, `d`]
```

>æœ€é•¿çš„ä¸€ç¯‡äº†ï¼Œæ–°çŸ¥è¯†æœ‰ç‚¹ä¹å‘³ï¼Œä½†æ˜¯æ–°ç‰¹æ€§æ¯”è¾ƒå¥½ç”¨
